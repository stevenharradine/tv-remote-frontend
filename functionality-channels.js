function toggleFilter (filterName) {
	document.getElementsByTagName("body")[0].classList.toggle(filterName)

	areThereStillFilters()
}

function areThereStillFilters () {
	const cssFilterClassName = "filtered"
	var classList = document.getElementsByTagName("body")[0].classList

	if (classList.length === 1) {
		if (classList.contains(cssFilterClassName)) {
			classList.remove(cssFilterClassName)
		} else {
			classList.add(cssFilterClassName)
		}
	}
}

function send(codes, element) {
	if (document.getElementsByTagName("html")[0].classList.contains("lock")) {
		console.log ("I cant do that sir (currently sending the previous command)")
	} else {
		var xhttp = new XMLHttpRequest();
		element.classList.add("lock")
		element.innerHTML = "<img id='transmitter' src='data:image/gif;base64,R0lGODlhgACAALMPAP///6WyswAAAIaQjz4+PszMzJ+rrH2Hhb/Gx7C9v3R6eOrs7JmZmdrd3pqkpP///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNDgwM0U3OTg0RjUxMUUyQjMwQUI3NUUzNDM2QzhBRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNDgwM0U3QTg0RjUxMUUyQjMwQUI3NUUzNDM2QzhBRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU0ODAzRTc3ODRGNTExRTJCMzBBQjc1RTM0MzZDOEFGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU0ODAzRTc4ODRGNTExRTJCMzBBQjc1RTM0MzZDOEFGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp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'>" + element.innerHTML
		document.getElementsByTagName("html")[0].classList.add("lock")
		xhttp.onreadystatechange = function() {
			if (this.readyState == 4) {
				element.classList.remove("lock")
				document.getElementById("transmitter").outerHTML = ""
				delete document.getElementById("transmitter")
				document.getElementsByTagName("html")[0].classList.remove("lock")
			}
		};
		xhttp.open("GET", config.ip2ir_backend_server + "/?buttons=" + codes, true);
		xhttp.send();
	}
}

function resetFilters () {
	document.getElementsByTagName("body")[0].className=""

	var anchors = document.getElementsByTagName("a")
	for (i = 0; i < anchors.length; i++) {
		if (anchors[i].classList.contains ("filter-option")) {
			anchors[i].parentElement.classList.remove("selected")
		}
	}
}

function generateCssFilters () {
	var buffer = ""
	for (i = 0; i < categories.length; i++) {
		buffer += 'body.' + categories[i] + ' li[data-filter*="' + categories[i] + '"],\n'
	}
	for (i = 0; i < languages.length; i++) {
		buffer += 'body.' + languages[i] + ' li[data-filter*="' + languages[i] + '"],\n'
	}
	console.log (buffer)
}
